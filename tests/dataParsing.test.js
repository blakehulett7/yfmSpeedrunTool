import { readFileSync } from 'node:fs'
import { test, expect } from '@jest/globals';
import { parseWikitext, getCharacters } from '../src/dataParsing.js';

test('Wikitext Parser', () => {
  const rawJSON = 
{"parse":{"title":"Portal:Yu-Gi-Oh! Forbidden Memories characters","pageid":369496,"wikitext":{"*":"<gallery mode=\"packed\" captionalign=\"center\" widths=\"160\">\nPrince-FMR.png           | [[Prince (FMR)|Prince]] |link=Prince (FMR)\nFMR Simon.png            | [[Simon Muran (FMR)|Simon Muran]] |link=Simon Muran (FMR)\nTeana-FMR.png            | [[Teana]] |link=Teana\nJono-FMR.png             | [[Jono]] |link=Jono\nCard Shop Owner-FMR.png  | [[Card shop owner (FMR)|Card shop owner]] |link=Card shop owner (FMR)\nVillager1-FMR.png        | [[Villager1]] |link=Villager1\nVillager2-FMR.png        | [[Villager2]] |link=Villager2\nVillager3-FMR.png        | [[Villager3]] |link=Villager3\nSeto-FMR.png             | [[Seto (FMR)|Seto]] |link=Seto (FMR)\nHeishin-FMR.png          | [[Heishin]] |link=Heishin\nServant-FMR.png          | [[Servant]] |link=Servant\nKemo-FMR.png             | [[Kemo (FMR)|Kemo]] |link=Kemo (FMR)\nYugi-FMR.png             | [[Yugi (FMR)|Yugi]] |link=Yugi (FMR)\nJoey Wheeler-FMR.png     | [[Joey (FMR)|Joey]] |link=Joey (FMR)\nTea Gardner-FMR.png      | [[Tea Gardner (FMR)|Tea]] |link=Tea Gardner (FMR)\nRex Raptor-FMR.png       | [[Rex Raptor (FMR)|Rex Raptor]] |link=Rex Raptor (FMR)\nWeevil Underwood-FMR.png | [[Weevil Underwood (FMR)|Weevil Underwood]] |link=Weevil Underwood (FMR)\nMai Valentine-FMR.png    | [[Mai Valentine (FMR)|Mai Valentine]] |link=Mai Valentine (FMR)\nBandit Keith-FMR.png     | [[Bandit Keith (FMR)|Bandit Keith]] |link=Bandit Keith (FMR)\nShadi-FMR.png            | [[Shadi (FMR)|Shadi]] |link=Shadi (FMR)\nBakura-FMR.png           | [[Bakura (FMR)|Bakura]] |link=Bakura (FMR)\nYami Bakura-FMR.png      | [[Yami Bakura (FMR)|Yami Bakura]] |link=Yami Bakura (FMR)\nPegasus-FMR.png          | [[Pegasus (FMR)|Pegasus]] |link=Pegasus (FMR)\nIsis-FMR.png             | [[Isis (FMR)|Isis]] |link=Isis (FMR)\nKaiba-FMR.png            | [[Kaiba (FMR)|Kaiba]] |link=Kaiba (FMR)\nMage Soldier.png         | [[Mage Soldier]] |link=Mage Soldier\nSadin.png                | [[Sadin]] |link=Sadin\nOcean Mage.png           | [[Ocean Mage]] |link=Ocean Mage\nHigh Mage Secmeton.png   | [[High Mage Secmeton]] |link=High Mage Secmeton\nForest Mage.png          | [[Forest Mage]] |link=Forest Mage\nHigh Mage Anubisius.png  | [[High Mage Anubisius]] |link=High Mage Anubisius\nMountain Mage.png        | [[Mountain Mage]] |link=Mountain Mage\nHigh Mage Atenza.png     | [[High Mage Atenza]] |link=High Mage Atenza\nDesert Mage.png          | [[Desert Mage]] |link=Desert Mage\nHigh Mage Martis.png     | [[High Mage Martis]] |link=High Mage Martis\nMeadow Mage.png          | [[Meadow Mage]] |link=Meadow Mage\nHigh Mage Kepura.png     | [[High Mage Kepura]] |link=High Mage Kepura\nLabyrinth Mage.png       | [[Labyrinth Mage]] |link=Labyrinth Mage\nSebek.png                | [[Sebek]] |link=Sebek\nNeku.png                 | [[Neku]] |link=Neku\nNitemare-FMR.png         | [[Nitemare]] |link=Nitemare\nDuel Master K.png        | [[Duel Master K]] |link=Duel Master K\n</gallery>\n\n[[Category:Character portals|Forbidden Memories, Yu-Gi-Oh!, characters]]"}}}
})
